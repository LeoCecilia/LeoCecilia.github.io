<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="vivian blog">
<meta property="og:url" content="https://leocecilia.github.io/index.html">
<meta property="og:site_name" content="vivian blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vivian blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://leocecilia.github.io/"/>





  <title> vivian blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">vivian blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-resume">
          <a href="/resume" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            简历
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/05/29/session/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/29/session/" itemprop="url">
                  session,
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-29T10:54:08+08:00">
                2017-05-29
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="session是什么"><a href="#session是什么" class="headerlink" title="session是什么"></a>session是什么</h2><p>http是一个无状态协议，所以server和client不会一直保持连线状态，也不会有双方状态的即时更新，所以sever并不知道client的状态（像是是否已经登入），由此引入了session，代表服务器与浏览器的一次会话过程，其被存储在服务器端。</p>
<h2 id="session的原理"><a href="#session的原理" class="headerlink" title="session的原理"></a>session的原理</h2><p>Session 的机制就像是你去飲料店下了單以後，得到号码牌，然後你走开几步，店員就忘了你是誰。所以，如果你想去取飲料，你就得靠這張號碼牌，去跟店員領，店員會跟據這號碼牌，認定你是顧客、是否點過餐、知道你點了什麼東西，然後可以接著給你屬於你的飲料。<br><br>理解之后，回到http上就是一样，在网络领域中，有两种方法让client取得号码牌，一个是用cookie，另一个是直接输出并嵌入页面当中的方法，即直接把号码背下来。<br>拿号码牌去sever拿资料，亦分为两种方法，cookie和运用标准的query string /post body</p>
<h2 id="cookie-based-session"><a href="#cookie-based-session" class="headerlink" title="cookie-based session"></a>cookie-based session</h2><p>事实上，在最原始的session设计当中，开发者是将<strong>资料存储在sever，或是usb或数据库当中</strong>，每当顾客来买东西，店员就输入你的号码来得知你是否点过餐。<br>这种方案在小型网站是完全行得通的，只是在现在超大流量的网络服务来看，直接将资料存储在sever，就意味着大容量的数据库，以及存放和共享资料的技术，加之兼顾效能以及方便维护而言，这就是相当大型的问题<br>而cookie-based-session就提出将资料暂时存放在cookie当中，让client自己存放，其原理通常是使用 Query String 或 POST body 等方法，把資料往 Server 傳之後，在 Server 端將 Client 上傳的資料存在 Session 之中，简单地说，</p>
<blockquote>
<p>你点什么饮料，统统<strong>直接写在</strong>号码牌上，sever就可以直接看你的号码牌，而无须发大量的是将去建立大规模的server来处理session</p>
</blockquote>
<p>只是cookie只有4k容量的限制，所以网站有时候会采用cookie-based-session和服务器端session并行的策略。</p>
<h2 id="session传值"><a href="#session传值" class="headerlink" title="session传值"></a>session传值</h2><p>利用session机制来储存资料，让不同页面之间可以传递资料。之后的连接或开启其他页面是，因为你拿的号码牌是同一个，所以在不同页面当中，仍然可以读到迁移所储存在session的状态。</p>
<h2 id="session会在浏览器关闭后消失嘛"><a href="#session会在浏览器关闭后消失嘛" class="headerlink" title="session会在浏览器关闭后消失嘛"></a>session会在浏览器关闭后消失嘛</h2><p>不会的，浏览器关闭后其所创建的sessionid就会随之消失。而seesion只会在其expire到期时，会是直接在服务器端强制清除，才会使session消失。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/05/25/nodejs项目/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/25/nodejs项目/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-25T21:48:34+08:00">
                2017-05-25
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前些天一直在学习nodejs，现在来总结一下Nodejs该项目中的要点吧</p>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><ul>
<li><p>config - 里面存放着的端口配置信息，以及express-session的一些配置，引申知识：<a href="">session</a></p>
</li>
<li><p>lib - 存放着数据库的一些表(定义里面有什么数据结构，诸如User,Comment,post)这些表，还在其中自定义了插件，是根据Id来生成创建时间的</p>
</li>
<li><p>middleware - 存放中间件(在客户端和服务器端发送请求起作用，本项目是用于检查用户是否登录，并进行后续的处理)</p>
</li>
<li><p>models - 存放一些对于表所进行的操作，诸如增删改查</p>
</li>
<li><p>public - 用于存放静态文件，比如css文件啊，img之类的</p>
</li>
<li><p>routes - 用于存放路由文件，里面主要是调用http方法后进行处理</p>
</li>
<li><p>views - 存放一些模板文件</p>
</li>
</ul>
<p>这里遵循了MVC开发模型，model(模型) - view(视图) - controller(控制器routes)</p>
<h2 id="安装依赖模块"><a href="#安装依赖模块" class="headerlink" title="安装依赖模块"></a>安装依赖模块</h2><ol>
<li>express: web框架</li>
<li>express-session: session 中间件</li>
<li>connect-mongo: 将session存储于mongodb,结合express-session使用</li>
<li>connect-flash: 页面通知提示的中间件，基于session实现</li>
<li>ejs: 模板</li>
<li>express-formidable: 接收表单即文件的上传中间件，基于session实现</li>
<li>config-lite: 读取配置文件</li>
<li>marked: markdown 解析</li>
<li>moment: 时间格式化</li>
<li>mongolass: mongodb驱动</li>
<li>object-to-timestamp: 根据ObjectId生成时间戳</li>
<li>sha1: sha1密码加密</li>
<li>winston: 日志</li>
<li>express-winston: 基于winston的用于express的日志中间件</li>
</ol>
<h2 id="安装使用mongodb"><a href="#安装使用mongodb" class="headerlink" title="安装使用mongodb"></a>安装使用mongodb</h2><p><a href="http://www.cnblogs.com/lecaf/p/mongodb.html#3566921" target="_blank" rel="external">教程</a><br>推荐使用<a href="https://robomongo.org/" target="_blank" rel="external">robotmongo</a>这个可视化Ui界面</p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>顾名思义配置文件则是，定义一些可配置的变量，从而使你的项目可以在不同的环境下运行。</p>
<h2 id="功能与路由设计"><a href="#功能与路由设计" class="headerlink" title="功能与路由设计"></a>功能与路由设计</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/05/20/todoApp/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/20/todoApp/" itemprop="url">
                  todoApp
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-20T10:40:37+08:00">
                2017-05-20
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="todoApp思路"><a href="#todoApp思路" class="headerlink" title="todoApp思路"></a>todoApp思路</h2><p>这个App使用了MVC的设计思想，现在具体说一下三个层的具体实现方式。</p>
<ul>
<li><p>view层</p>
<ul>
<li>使用了ejs动态模板，可以将后台传来的数据动态地写入html文件，而无须使用js来获取选择器，从而填充，但是本app每次请求成功后，都需要重绘整个页面，这是<strong>硬伤</strong>，学术解释为<blockquote>
<p>界面设计人员进行图形界面设计。</p>
</blockquote>
</li>
</ul>
</li>
<li><p>controller层</p>
<ul>
<li>controller主要功能是进行路由选择，向服务器发出请求之后，给客户端的响应，突然感觉这样功能没有分的很明晰，因为我们使用了express模块，所以不需要额外设置一个server模块和一个route模块。一言以蔽之<blockquote>
<p>负责转发请求，对请求进行处理</p>
</blockquote>
</li>
</ul>
</li>
<li><p>Model层</p>
<ul>
<li>应用的业务逻辑层，主要负责功能的实现，但是此处的功能主要是添加和删除，而恰好http方法中有delete和post方法，可以直接使用，所以这里的app就没有特地设立一个model层。学术解释为<blockquote>
<p> 程序员编写程序应有的功能（实现算法等等）、数据库专家进行数据管理和数据库设计(可以实现具体的功能)。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>以及模块的导出和导入方式，注意模块不需要将整个文件都设为一个模块(因为模块是一个封装所需功能的能访问并记住其所在词法作用域的代码片段)</p>
<h2 id="app具体实现"><a href="#app具体实现" class="headerlink" title="app具体实现"></a>app具体实现</h2><h3 id="controller"><a href="#controller" class="headerlink" title="controller"></a>controller</h3><p>controller层的主要难点是连接数据库，在mlab中新建完数据库之后，要再新建一个账户和密码，来连接云mongodb。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//text是账户名，第二个text则是密码</span></div><div class="line">mongoose.connect(<span class="string">'mongodb://text:text@ds147681.mlab.com:47681/todolist'</span>);</div><div class="line"></div><div class="line"><span class="comment">//create a Schema,tell the db what properties it should contain</span></div><div class="line"><span class="keyword">var</span> todoSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</div><div class="line">  <span class="attr">item</span>: <span class="built_in">String</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//what schema was base in the model</span></div><div class="line"><span class="keyword">var</span> Todo = mongoose.model(<span class="string">'Todo'</span>,todoSchema);</div></pre></td></tr></table></figure></p>
<p>然后连接完数据库便就可以对请求进行处理了，主要是向数据库发出查找请求，并执行相对的操作(删除/新增)</p>
<h3 id="view层"><a href="#view层" class="headerlink" title="view层"></a>view层</h3><p>使用ejs模板，ejs语法&lt;% %&gt;即可嵌入js语法，其和java开发中jsp语法是差不多的，现在想来我公司的代码很多时候都是重绘整个子页面的，感觉性能上就做得不是那么到位</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/05/19/Nodejs学习历程/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/19/Nodejs学习历程/" itemprop="url">
                  Nodejs框架归类
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-19T10:18:44+08:00">
                2017-05-19
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前些天一直在youtube逛nodejs的教程，然后我发现了<a href="https://www.youtube.com/channel/UCW5YeuERMmlnqo4oq8vwUpg" target="_blank" rel="external">ninjas</a>这个教程，里面的视频内容很赞哦，比较全面的介绍了nodejs的内容，从对文件的操作，到express,nodemon,body-parser等框架的应用场景，以及Middleware的概念让我受益匪浅，现在让我粗略总结一下关于nodejs的东西吧</p>
<h2 id="nodejs是什么"><a href="#nodejs是什么" class="headerlink" title="nodejs是什么"></a>nodejs是什么</h2><p>nodejs是基于google chrome v8 engine写的c++程序，它是javascript应用服务器端的语言</p>
<h2 id="npm-模块管理包"><a href="#npm-模块管理包" class="headerlink" title="npm 模块管理包"></a>npm 模块管理包</h2><p>以下，我主要讲述npm的一些指令，而不是讲述其底层的工作原理，鉴于我知识面的限制。</p>
<ul>
<li>npm i express 安装express模块</li>
<li>npm i express -g 全局安装express模块，并express写入环境变量，这样在全机都可以运行express模块</li>
<li>npm i express -save 安装express模块，并将此依赖保存在package.json文件中</li>
<li>npm uninstall express 写在express模块，注意package.json文件中并不会将对应的dependencies删除</li>
<li>npm install 此时会查找你的package.json文件中的dependencies，并将里面的模块都安装在你所在的目录之下</li>
</ul>
<h2 id="对象的继承"><a href="#对象的继承" class="headerlink" title="对象的继承"></a>对象的继承</h2><p>nodejs中的<code>inherits</code>方法，能够让一个对象继承另一个对象的属性(底层操作应该也是复制对象)，i.e</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> events = <span class="built_in">require</span>(<span class="string">'events'</span>),</div><div class="line">    util = <span class="built_in">require</span>(<span class="string">'util'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line"></div><div class="line">util.inherits(Person,events.EventEmitter);</div><div class="line"></div><div class="line"><span class="keyword">var</span> james = <span class="keyword">new</span> Person(<span class="string">'james'</span>);</div><div class="line"><span class="keyword">var</span> mary = <span class="keyword">new</span> Person(<span class="string">'mary'</span>);</div><div class="line"><span class="keyword">var</span> ryu = <span class="keyword">new</span> Person(<span class="string">'ryu'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> people = [james,mary,ryu];</div><div class="line"></div><div class="line"><span class="comment">//person就已经继承了eventEmitter中的特性</span></div><div class="line">people.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">person</span>) </span>&#123;</div><div class="line">  person.on(<span class="string">'speak'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(person.name+<span class="string">' said: '</span>+msg);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">james.emit(<span class="string">'speak'</span>,<span class="string">'hey dudes'</span>);</div></pre></td></tr></table></figure>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><p><code>mkdirSync</code>是创建folder的同步操作，这是阻塞性的操作。<br><code>rmdirSync</code>是删除folder的同步操作</p>
<p><code>mkdir</code>, 基于nodejs是单线程，非阻塞的工作模式，故其是非阻塞式的异步操作，i.e.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="keyword">var</span> file = fs.readFile(<span class="string">'input.txt'</span>,<span class="string">'utf8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</div><div class="line">    fs.writeFile(<span class="string">'writeme.txt'</span>,data);</div><div class="line">    <span class="built_in">console</span>.log(data);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p><code>rmdir</code>,删除folder的异步操作</p>
<p><code>unlink</code> 删除file</p>
<p><code>writeFile</code>先创建文件，再写字符串进去（string/stream），如果是json格式，则需要<code>json.stringify()</code>来将该对象转换为字符串<br>同理readFile则是读文件，他们都具有异步和同步两种方法</p>
<h2 id="stream-amp-buffer"><a href="#stream-amp-buffer" class="headerlink" title="stream &amp; buffer"></a>stream &amp; buffer</h2><p>stream 是对buffer的高级封装，其操作的底层仍是buffer对象</p>
<p>buffer 是数据缓存对象，类似数组对的数据结构，其主要作用是</p>
<blockquote>
<p>将少量的数据存储在buffer中，当buffer中的数据已经装满后，就将其运输到目的地，然后，再重新前面的步骤，知道所有的数据都运输完成为止</p>
</blockquote>
<p>现在让我先创建一个myReadStream出来<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myReadStream = fs.createReadStream(__dirname+<span class="string">'/readMe'</span>,<span class="string">'utf8'</span>);</div><div class="line"><span class="keyword">var</span> myWriteStream = fs.createWriteStream(__dirname+<span class="string">'/writeMe.txt'</span>);</div><div class="line"></div><div class="line">myReadStream.on(<span class="string">'data'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">chunk</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'new chunk received.'</span>);</div><div class="line">  myWriteStream.write(chunk);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h2 id="pipe"><a href="#pipe" class="headerlink" title="pipe"></a>pipe</h2><p>另一种更加简洁的写法是使用pipe，其原理与上面的所写的差不多<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">myReadStream.pipe(myWriteStream);</div></pre></td></tr></table></figure></p>
<h2 id="express-快速处理不同的路由-跳转到不同的url"><a href="#express-快速处理不同的路由-跳转到不同的url" class="headerlink" title="express 快速处理不同的路由/跳转到不同的url"></a>express 快速处理不同的路由/跳转到不同的url</h2><p>说到路由，现在列出http的方法</p>
<ul>
<li>app.listen(3000);</li>
<li>app.get(‘route’, fn);</li>
<li>app.post(‘route’, fn);</li>
<li>app.delete(‘route’, fn);</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> app = <span class="built_in">require</span>(<span class="string">'express'</span>)();</div><div class="line">app.get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">req,res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'this is the home page'</span>);<span class="comment">//注意这里只能传入字符串和stream流；</span></div><div class="line">  <span class="comment">//如果想要传入json对象，要使用json.stringify()转换成字符串</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>然后另一种是动态的路由 route param<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//:id是url传入的参数</span></div><div class="line">app.get(<span class="string">'/profile/:id'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">req,res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'you requested id'</span> + req.params.id);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h2 id="ejs-template"><a href="#ejs-template" class="headerlink" title="ejs template"></a>ejs template</h2><p>ejs是一个模板引擎用来渲染动态的html</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.set(<span class="string">'view engine'</span>,<span class="string">'ejs'</span>);<span class="comment">//设置view层的模板引擎为ejs</span></div></pre></td></tr></table></figure>
<p><code>&lt;% %&gt;</code>这是ejs的语法，而它的参数通常是通过ajax来获取的，另外一种表达式则是<code>&lt;%= %&gt;</code></p>
<p>而后台的传送则是通过<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">app.get(<span class="string">'/profile/:name'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">req,res</span>) </span>&#123;</div><div class="line">  res.render(<span class="string">'profile'</span>,&#123;<span class="attr">person</span>:req.params.name&#125;);<span class="comment">//第二个参数则是传输的参数</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>ejs还有另外一种语法，而此语法有助于模块化的开发<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;% include partials/nav.ejs %&gt;</div></pre></td></tr></table></figure></p>
<p>这样子就相当于将nav封装在nav.ejs中，而其他页面若想要调用可以直接写上这条代码即可</p>
<h2 id="middleware"><a href="#middleware" class="headerlink" title="middleware"></a>middleware</h2><p>middleware的含义便是中间件，可以解释为将具体业务与底层逻辑解耦的组件，目前我所接触到的middleware有body-parser,express中的static方法</p>
<ul>
<li><p>express.static是用于共享资源的，比如说，当你在ejs文件当中引入了一个css文件，然后你在localhost中无法访问到那个css文件，这说明在服务器的文件结构并不像你本地文件的结构，所以此时就可以向服务器指定你资源的准确位置，这样ejs才能访问到你的css文件，代码如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">app.use(<span class="string">'/assets'</span>,express.static(<span class="string">'asstets'</span>));</div><div class="line"><span class="comment">//注意即便你将你本地那个文件重命名，你再浏览器中访问/assets，仍然能够访问到那资源</span></div><div class="line"><span class="comment">//注意第一个就是你所指定的路由</span></div></pre></td></tr></table></figure>
</li>
<li><p>body-parser<br>body-parser是一个请求体解析中间件，在实际应用中，不同路径（路由）可能会要求用户所以不同的内容类型，<code>body-parser</code>还支持为单个express路由添加请求体解析：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>),</div><div class="line">    bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>),</div><div class="line">    app = express(),</div><div class="line"></div><div class="line">    <span class="comment">//创建application/json解析</span></div><div class="line">    jsonParser = bodyParser.json(),</div><div class="line"></div><div class="line">    <span class="comment">//创建application/x-www-form-urlencoded解析</span></div><div class="line">    urlencodedParser = bodyParser.urlencoded(&#123;<span class="attr">extend</span>:<span class="literal">false</span>&#125;);<span class="comment">//extend不知道是什么</span></div><div class="line"></div><div class="line"><span class="comment">//POST/login 获取url编码的请求体</span></div><div class="line">app.post(<span class="string">'/login'</span>,urlencodedParser, <span class="function"><span class="keyword">function</span> (<span class="params">req,res</span>) </span>&#123;</div><div class="line">  <span class="comment">//req.body获取请求体</span></div><div class="line">  <span class="keyword">if</span>(!req.body) <span class="keyword">return</span> res.sendStatus(<span class="number">400</span>);</div><div class="line">  res.send(<span class="string">'welcome, '</span>+req.body.username);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//POST /api/users获取json编码的请求体</span></div><div class="line">app.post(<span class="string">'/api/users'</span>,jsonParser,<span class="function"><span class="keyword">function</span> (<span class="params">req,res</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span>(!req.body) <span class="keyword">return</span> res.sendStatus(<span class="number">400</span>);</div><div class="line">  <span class="comment">//create user in req.body</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="nodemon-监控框架"><a href="#nodemon-监控框架" class="headerlink" title="nodemon 监控框架"></a>nodemon 监控框架</h2><p>nodemon可用于监控文件是否有所改动，后台js文件有所改动，nodemon都会重启node，然后直接在浏览器就可以浏览到已经修改的结果，若改动的是前端的js文件，则需要使用rs指令来重启服务器,<code>nodemon app.js</code>是运行app.js文件的指令</p>
<h2 id="mongodb-amp-mongoose"><a href="#mongodb-amp-mongoose" class="headerlink" title="mongodb &amp; mongoose"></a>mongodb &amp; mongoose</h2><p>看到mongodb和mongoose发现，这真的是很简洁的创建数据库，以及操作数据库的方式，比起oracle来说，真的简单许多<br>现在来说一下mongodb在云端上的存储mlab。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/05/16/online-deploy-heroku/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/16/online-deploy-heroku/" itemprop="url">
                  线上部署heroku
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-16T14:19:03+08:00">
                2017-05-16
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>将<a href="https://github.com/alsotang/node-lessons/tree/master/lesson3" target="_blank" rel="external">爬虫</a>部署上heroku，成为一个线上项目，<br>我部署的在<a href="https://radiant-brushlands-35859.herokuapp.com/" target="_blank" rel="external">这里</a></p>
<h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><p>学习heroku的线上部署<a href="https://www.heroku.com/" target="_blank" rel="external">heroku</a></p>
<h2 id="课程内容"><a href="#课程内容" class="headerlink" title="课程内容"></a>课程内容</h2><p>heroku可以让你只专注与页面逻辑，而不需配置服务器和装载数据库，大大地提高开发效率。</p>
<p>好了，我们先git clone <a href="https://github.com/alsotang/node-lessons/tree/master/lesson3" target="_blank" rel="external">https://github.com/alsotang/node-lessons/tree/master/lesson3</a>，然后注意每一个nodejs都需要有一个package.json去表明自己的身份（nodejs程序），这样可以让heroku知道你哪一个程序是nodejs主程序。<code>package.json</code>可通过<code>npm init</code>添加，至于里面的<code>git repository</code>则需要填写<code>heroku remote -v</code>里得出的值</p>
<p>首先先去<a href="https://www.heroku.com/" target="_blank" rel="external">注册</a>，然后去<a href="https://toolbelt.heroku.com/" target="_blank" rel="external">下载</a>，再在命令行通过<code>heroku login</code>登录，<strong>注意这里的邮箱填写最好是填写你github登录的邮箱</strong>。</p>
<p>然后要<code>git add .</code>添加文件，或者也可只添加一个，详细命令请上网查询，然后<code>git commit -m &quot;first commit&quot;</code>，<strong>-m后面是双引号</strong>，最后<code>git push heroku master</code>，然后window会弹出一个登录窗口，注意这里的用户名和密码请参见<code>C:\user\user\netrc</code>文件，可用记事本打开查看，然后输入git的账号密码，然后即可push成功啦，注意若出现<code>Failed to detect app matching https://codon-buildpacks.s3.amazonaws.com/buildpacks/heroku/nodejs.tgz buildpack</code>，说明heroku它无法识别你的nodejs程序，这时候需要添加package.json文件，如上所述。<code>git add package.json</code>，<code>git commit -m &quot;track package.json&quot;</code>，这样我们heroku的部署便算成功。</p>
<p>最后输入<code>heroku open</code>后，浏览器便会自动打开，并能访问到部署到heroku的线上应用啦。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/04/17/公司代码规范/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/17/公司代码规范/" itemprop="url">
                  company-html's trick
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-17T23:01:20+08:00">
                2017-04-17
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><ul>
<li><p>建立树形结构时，使用<code>dl</code>,<code>dt</code>,<code>dd</code>标签，而不是使用<code>ul li</code>标签，如此便不需要另外为第一个<code>li</code>设置title样式</p>
</li>
<li><p>若顶栏和侧边栏<strong>固定</strong>时，内容栏可使用<code>iframe</code>进行异步加载，若该内容栏中有诸如新建这种需要跳转别的页面的功能，则可使用<code>div</code>嵌套<code>iframe</code>来实现异步加载。(即有两个<code>iframe</code>)</p>
<ul>
<li>具体做法：加载内容页时，嵌套的<code>iframe</code>的父层设为<code>display:none;</code>，且嵌套的<code>iframe</code>的<code>src=&quot;&quot;</code>，当点击新建btn时，再向iframe的父层设为<code>display:block;</code>，并将嵌套的<code>iframe</code>的<code>src=</code>对应的html路径</li>
</ul>
</li>
</ul>
<ul>
<li><p>呈现表格的时候，要将表头，和表身分开成两个<code>div</code>嵌套<code>table</code>，并把表身<strong>定高</strong>，<strong>这样做是为了当表身内容无限多的时候，可产生滚动条</strong>，这样子，表头便固定在表格的顶部，用户体验就会更加好</p>
</li>
<li><p>弹窗的时候，其主要的html是</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay-window"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">iframe</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"caption"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">iframe</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>第一个<code>iframe</code>的src值为空，其目的是为了遮住视频控件，因为视频控件的<code>z-index</code>是相当高的，而第二个则是加载另外一个页面</p>
</li>
<li><p>要灵活运用自定义属性，以达到Js的扩展性</p>
</li>
<li><p>段落元素无法包裹块级元素，这样会大大降低在chrome浏览器的可读性，<code>span</code>是可以包裹住<code>span</code>的。</p>
</li>
<li><p>要熟练使用w3c标准，多使用语义化标签</p>
</li>
<li><p>要注意主次之分，使用pd10这些bootstrap的class只是为了不影响其他类名，切不可滥用这些类名，这会导致调试不方便（每次都要修改的时候都要在html上进行修改</p>
</li>
<li><p>可使用<code>overflow: auto</code>，使其在内容超出范围时产生滚动条。</p>
</li>
<li><p>啊，我又忘记了要好好思考那个html,css布局了，<strong>!important</strong>，如果思考的不仔细的话，可能会影响到日后的Js的编码，绝对不能重复，回去之后一定要改回来！</p>
</li>
<li><p>自适应布局，主要特点是：不设定高度，当内容超出容器范围时，出现滚动条。解决方法：将其设为绝对定位布局，并且设定其位置，其父级亦设成绝对定位<code>position: absolute;</code>，并设定其具体位置（<code>top</code>,<code>left</code>之类的），以避免内部文本超出文本流(即将父级与子级在同一层)</p>
</li>
<li><p>每当刷新页面时，有时候，页面会突闪(抖动)纵向滚动条（出现后立即消失，且内容很少，不足以出现滚动条），先说说解决方法，直接在<code>&lt;body&gt;&lt;/body&gt;</code>上设置<code>overflow: hidden;</code>(只要<strong>不</strong>设高度，overflow:hidden;便不会将超出的内容隐藏掉),便可解决这问题。</p>
</li>
<li><p>让文字只在一行当中呈现，不断行，使用<code>class=&quot;text-overflow&quot;</code>(bootstrap的class)，与此同时，该元素需要设置<strong>宽度</strong>，这样便能呈现出该文字便能在一行当中呈现，而超出的部分用<code>...</code>展示，为了使该元素做到自适应宽度，还有另外两种更优的方法：</p>
<ol>
<li><p>让该元素的<code>display:block;</code>，原因是在正常文本流当中，该元素的宽度是由其祖先元素撑开，(由于checkbox和其右边的文本不在同一水平线)，故将其父级元素设为<code>position: relative;</code>，并将<code>checkbox</code>设为<code>position: absolute;</code>，然后再通过<code>top</code>，<code>left</code>之类的元素调整它的位置</p>
</li>
<li><p><code>table</code>的特点是左列固宽，右列自适应<code>table</code>剩余的宽度，故该思路为将其父级元素设为<code>display: table;</code>，该元素及其同级元素设为<code>display: table-cell;</code>，这样亦可完成需求。</p>
</li>
</ol>
</li>
<li><p>不能让用户的信息量的多少影响你的排版，而预先固定一个最大高度，然后在那个元素上添加纵向滚动条。</p>
</li>
<li><p>两端对齐的时候，然后信息很多的话，如何做到不影响排版呢？</p>
</li>
</ul>
<hr>
<h2 id="感想"><a href="#感想" class="headerlink" title="感想"></a>感想</h2><h2 id="2017-4-25"><a href="#2017-4-25" class="headerlink" title="2017/4/25"></a>2017/4/25</h2><p>感觉最近想法不正确，以为直接将对方的代码copy下来，就可以提高开发效率，却没有去思考该代码是否优化，甚至乎，很多时候，在人家冗杂的代码当中纠结许久，浪费自己的时间。而正确的提高写页面效率的思路应当是：</p>
<blockquote>
<p>每当看到一个页面，应当<strong>先自己思考</strong>一下该布局如何实现，然后再去参考别人的代码是否已经实现了你的想法，若有，则可直接<strong>复用</strong>，若没有，则需要自己编写！千万要注意，复制糟糕的代码还不如自己编写的代码的开发效率快！</p>
</blockquote>
<p>而我自己呢，却只是<strong>一味</strong>地复制粘贴别人的代码，丝毫<strong>没有</strong>去思考！长此以往，你永远都不能建起属于自己的代码库，而你也只会变成一个不会独立思考的人！</p>
<h2 id="2017-4-26"><a href="#2017-4-26" class="headerlink" title="2017/4/26"></a>2017/4/26</h2><p>今天在地铁上思考了一下接下来的计划，首先在公司里，若没有什么任务的时候便可以刷leetcode，然后晚上便在宿舍进行当天的工作总结，随后开始看算法书籍，然后做算法题，可将做题的内容放在github上进行版本管理，这样可以看到你解题思路的历程。</p>
<p>然后，今天在公司里没什么任务，于是我便刷起了leetcode，每每做完一道题，且当其呈现为<strong>绿色</strong>的Accepted的时候，我便感觉有一种自豪感驱使我继续闯关答题，嗯，所以我更要执行我的计划，让自己成为一个更加强的人。</p>
<h2 id="2017-5-3"><a href="#2017-5-3" class="headerlink" title="2017/5/3"></a>2017/5/3</h2><p>最近总是将自己的整块时间碎片化，每当复习算法的时候，就想着要不要做做前端的项目啊，然后又开始谷歌搜索前端项目。然后搜到一些很不错的项目之后，就添加为标签，然后继续浏览其他页面，至于之前积聚的项目却都不予以理会。我忽然想起了先前在公众号看到的一篇文章：</p>
<blockquote>
<p>在看书的事情上，很多人都会在微信上列出自己的一大堆书单，可是你又真正看了几本书呢？</p>
</blockquote>
<p>是啊，我觉得我陷入了一种怪异的自我满足情绪，就是每当看到一些成功的案例，或是一些有助于前端知识积累的列表，我就会毫不犹豫地去收藏，去添加标签，心里还沾沾自喜地想着，啊，有了这些干货，我肯定会变得很厉害，然后便开始心有旁骛地去干这干那的，可是这样子的效率真不是一般地低，每每想到9月份就要秋招了，可也许那时的我跟现在的我在前端上的距离却也没有拉开多少，这不正是别人所说的：</p>
<blockquote>
<p>三个月的经验重复了5到6年</p>
</blockquote>
<p>哦，这是多么让人沮丧的事情啊，想想那时候，别人也许已经成为了前端架构师，而你还在做着什么，前端页面仔！哦，我不要做这样的人！所以说从现在开始，我要好好管理自己的时间：</p>
<ul>
<li>工作日学一个章节的算法(1.1为一个章节)，与此同时要刷leetcode(linklist)，一定要学会<strong>调试 Linklist</strong>，每天在leetcode做2~3题，然后就总结：<ul>
<li>解题思路</li>
<li>排序的思想</li>
</ul>
</li>
<li>学习《你不知道的js–（中卷）》看一个小节</li>
<li>Node.js，了解基本概念，然后跟着做一些web应用，然后了解一些框架和插件，然后慢慢摸索吧。</li>
</ul>
<p>今天在公司刷leetcode的题，发现自己其实对链表的原理并不熟练，于是便想着要调试一下从而明白其原理。但是当我写测试用例的时候，发现并没有现成的函数让我去观察它的结果，然后我便一筹莫展，当我用谷歌搜索发现，人家早已经建立了自己的代码工具库，对啊，这种思维，这种独立的精神正是我所缺乏的，没有相应的函数库的时候，便自己去编写。忽然想起别人所说的：</p>
<blockquote>
<p>linux思维和window思维，用window的人大多希望有现成的代码，让自己直接套用，而用linux的人则不同，他们很有Geek精神，当没有现成的代码库的时候，他们便自己去编写个性化的代码库，乐于分享，开源，尊重他人的劳动成果。</p>
</blockquote>
<p>嗯，看来我得学习<strong>linux</strong>，这是对我Geek精神的培养。</p>
<h2 id="2017-5-11"><a href="#2017-5-11" class="headerlink" title="2017/5/11"></a>2017/5/11</h2><p>最近发现自己很容易就跳进自己所挖的坑，比如说刚开始的时候，容易</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/04/15/辞职感受/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/15/辞职感受/" itemprop="url">
                  辞职感受
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-15T15:03:49+08:00">
                2017-04-15
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="自我感受"><a href="#自我感受" class="headerlink" title="自我感受"></a>自我感受</h2><p>刚开始的时候进入方遒，觉得在方遒里前端做项目的感觉，应该是跟在学校里和他人组队完成项目的过程是差不多的性质，我们可以互相讨论问题，相互解决问题，从而完成项目，这也是一个自学过程，而且期间还有实习补贴，所以应该能够适应和得到提升的，但是经过这几天的工作，我发现方遒是没有一位正职的前端开发工程师，带我的那个也是一位应届毕业生，这个让我有点失望</p>
<p>然后我发现，公司的项目很赶，每当我遇到问题后，并且经过谷歌和百度搜索及个人调试后没找到解决方案，苦思不得其解，正想询问师兄解决方法之时，发现他们也很忙，我也不好继续打扰，耽误他们的开发进度。照这样发展下去项目太干了，自己边没有太多时间去整理思路，便可能会直接上网复制代码，也没有时间去理解其实现思路，更勿论代码可复用性及性能优化</p>
<p>而此时，佳都公司亦打电话说，他们想要录取我入职，那是一家比较正式大规模的，与公安机关合作的公司，其有自己开发的组件，以及模块化的代码思路(可扩展性和代码复用性)，这是相当不错的公司，于是我便毫不犹豫地转向该公司了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/04/13/事件委托/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/13/事件委托/" itemprop="url">
                  jquery事件委托方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-13T20:03:58+08:00">
                2017-04-13
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前些天做了个点赞的效果，那时候没有用到事件委托的方法，想来相比起用事件委托方法，性能锐减，所以现在记录一下jquery中不同的事件绑定，触发，解绑的方法以及用途</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>事件代理是指将事件绑定到父级元素中，然后等待事件通过DOM冒泡到该元素再执行，事件侦听中有事件冒泡和事件捕获两种方法，而jquery中通过事件冒泡方式来实现事件代理，分别有<code>bind()</code>,<code>live()</code>,<code>delegate()</code>,<code>on(&#39;click&#39;function)</code>方法来实现事件的绑定</p>
<ul>
<li>事件冒泡：从发生事件的元素向其祖先元素冒泡</li>
<li>事件捕获：事件在DOM中寻找子元素</li>
</ul>
<hr>
<p>现在介绍一下事件绑定有那些方法</p>
<h2 id="最普通的事件绑定click"><a href="#最普通的事件绑定click" class="headerlink" title="最普通的事件绑定click()"></a>最普通的事件绑定click()</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#div1"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"点击后触发"</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>不提供解绑定方法，且要每个元素逐一绑定</p>
<h2 id="可解绑定的on-‘click’-function"><a href="#可解绑定的on-‘click’-function" class="headerlink" title="可解绑定的on(‘click’,function)"></a>可解绑定的on(‘click’,function)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#div1"</span>).on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"点击后触发"</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>可使用<code>$(&#39;#div1&#39;).off(&#39;click&#39;);</code>解除绑定</p>
<h2 id="bind-方法-使用冒泡的形式"><a href="#bind-方法-使用冒泡的形式" class="headerlink" title="bind()方法(使用冒泡的形式)"></a>bind()方法(使用冒泡的形式)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#div1"</span>).bind(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span> <span class="title">consoleMe</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"点击后触发"</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>可使用<code>unbind()</code>解除绑定<br>注意：<code>bind()</code>仅适用于为DOM中<strong>已经存在</strong>的元素绑定事件处理函数，<strong>动态生成</strong>的DOM元素，则不起作用<br>eg:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   	$(<span class="string">'.box'</span>).bind(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       	$(<span class="keyword">this</span>).clone().appendTo(<span class="string">'.container'</span>);        </div><div class="line">   	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span>click me<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>运行结果，单击第一个链接，会追加元素，但是除了第一个链接，其余都<strong>没有</strong>被绑定<code>click</code>事件</p>
<h2 id="live"><a href="#live" class="headerlink" title="live()"></a>live()</h2><p><code>live()</code>在jquery1.9以后已被丢弃，但现在仍记录一下其用法，<code>live()</code>与<code>bind()</code>的最大区别<strong>在于<code>live()</code>不仅作用于已经存在的DOM元素，还作用于将来动态生成的元素</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   	$(<span class="string">'.box'</span>).live(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       	$(<span class="keyword">this</span>).clone().appendTo(<span class="string">'.container'</span>);        </div><div class="line">   	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span>click me<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>注意<code>live()</code>使用了<strong>事件委托</strong>的方法，但是它有所下几个缺点：</p>
<ol>
<li><code>$()</code>函数会找到当前页面的所有.box元素并创建jquery对象，但在确认事件明白时却不用这个.box元素的组合，而是使用选择符表达式与<code>event.target</code>或其祖先元素进行比较，所以生成jquery对象会导致不必要的开销</li>
<li><code>live()</code>默认把事件绑定到<code>$(document)</code>元素，如果DOM嵌套很深，事件冒泡通过大量祖先元素会导致性能缺失</li>
<li>只有<code>$(&#39;.container .box&#39;)</code>才能使用<code>live()</code>，<code>$(&#39;.container&#39;).find(&#39;.box&#39;)</code>不行。<br>hack手段，早委托方式，其必须在head元素中进行加载，放在尾部则不管用</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line">	$(<span class="string">"#info_table td"</span>).live(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;/显示更多信息/&#125;);</div><div class="line">&#125;)(jQuery);<span class="comment">//jQuery对象</span></div></pre></td></tr></table></figure>
<h2 id="delegate"><a href="#delegate" class="headerlink" title="delegate()"></a>delegate()</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'.container'</span>).delegate(<span class="string">'.box'</span>,<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      $(<span class="keyword">this</span>).clone().appendTo(<span class="string">'.container:first'</span>);<span class="comment">//若没有涉及到数值的改变，则可以这般写，否则的话，其便会共用一个作用域，</span></div><div class="line">      <span class="comment">//解决方法有两个，一个是创建闭包，另一个是通过绑定一个Id选择器来获取该元素，并进行事件委托</span></div><div class="line">   &#125;);</div></pre></td></tr></table></figure>
<p><code>delegate()</code>使用了<strong>事件委托</strong>的方法，其根元素是具体绑定的元素，由此看来，使用<code>delegate()</code>要比<code>live()</code>效率更高。</p>
<p>提示：使用事件委托时，如果注册到目标元素上的其他事件处理程序使用.stopPropagation()阻止了事件传播，那么事件委托就会<strong>失效</strong>。</p>
<h2 id="on-‘click’-’-box’-function-是比较新的方法"><a href="#on-‘click’-’-box’-function-是比较新的方法" class="headerlink" title="on(‘click’,’.box’,function)是比较新的方法"></a>on(‘click’,’.box’,function)是比较新的方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'.container'</span>).on(<span class="string">'click'</span>,<span class="string">'.box'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      $(<span class="keyword">this</span>).clone().appendTo(<span class="string">'.container:first'</span>);<span class="comment">//若没有涉及到数值的改变，则可以这般写，否则的话，其便会共用一个作用域，</span></div><div class="line">      <span class="comment">//解决方法有两个，一个是创建闭包，另一个是通过绑定一个Id选择器来获取该元素，并进行事件委托</span></div><div class="line">   &#125;);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/04/10/Repeated Substring Pattern/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/10/Repeated Substring Pattern/" itemprop="url">
                  Repeated Substring Pattern
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-10T17:26:22+08:00">
                2017-04-10
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p><a href="https://leetcode.com/problems/repeated-substring-pattern/#/description" target="_blank" rel="external">需求链接</a></p>
<p>Given a non-empty string check if it can be constructed by taking a substring of it and appending multiple copies of the substring together. You may assume the given string consists of lowercase English letters only and its length will not exceed 10000.</p>
<h2 id="解决思路"><a href="#解决思路" class="headerlink" title="解决思路"></a>解决思路</h2><p>问题给了我们一个字符串，问能否拆成n个重复的子串。因此既然能拆分，那么每个子串的长度不能大于原字串长度的一半，那么我们可以从源字符串长度的一半遍历到1，如果当前长度能被总长度整除，说明可以分成若干个字符串，我们将这些子字符串拼接起来看跟原字符串是否相等。 如果拆完了都不相等，返回false。</p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> repeatedSubstringPattern = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> len = s.length;</div><div class="line">    <span class="keyword">if</span>(s.length===<span class="number">1</span>)&#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="built_in">Math</span>.ceil(len/<span class="number">2</span>);i&gt;=<span class="number">1</span>;i--) &#123;<span class="comment">//至少得两个元素，才能看看是不是重复</span></div><div class="line">        <span class="keyword">if</span>(len%i===<span class="number">0</span>) &#123;</div><div class="line">            <span class="comment">//如果能被整除，说明能分成若干个字符串，然后将这若干字符串拼接起来后的字符串，跟源字符串相等的话，那就说明相等，否则不等</span></div><div class="line">            <span class="keyword">var</span> c = len/i,t=<span class="string">''</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>;j&lt;c;j++)&#123;</div><div class="line">                t+=s.substr(<span class="number">0</span>,i);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(t===s) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://leocecilia.github.io/2017/04/07/company-intern-experience/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="vivian">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/vivian.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="vivian blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="vivian blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/07/company-intern-experience/" itemprop="url">
                  intern-experience
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-07T10:49:03+08:00">
                2017-04-07
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="实习情况"><a href="#实习情况" class="headerlink" title="实习情况"></a>实习情况</h2><p>今天是上班的第二天了，这几天我做了2个静态页面和一些Js效果。最大的感触大概就是公司需求变动还是挺大的，首先是table布局不被允许，他们说是因为table现在没什么人知道其特性，但是我觉得既然只是显示数据，那么<code>table</code>就是最好的布局啊。。。可是最后还是改成了<code>ul li</code>布局。</p>
<p>第一次不用bootstrap框架和normalize.css来写静态页面，发现很多页面上有很多潜在的错误是我之前没有发现的，比如用<code>display: inline-block</code>可能会导致html上的元素和有js生成的相同标签的元素会有不同的间隙，这个时候就需要用到<code>float:left</code>来解除潜在的错误!</p>
<p>然后的话，还有一个错误我没有找出来，那就是在jquery中，当我点击<code>button</code>后，然后将该<code>button</code>删除，接着再添加同样的<code>button</code>，当再次点击的时候jquery就找不到那个<code>button</code>，然后我就不知道为什么了。</p>
<p>不过今天get到一个tip，那就是，hover元素的时候之后，会弹出tooltip，鼠标移去tooltip后，tooltip仍是<code>display:block;</code>，解决方法就是，让hover的元素放置在一个透明的父级里，让该父级的宽度要涵盖tooltip和hover元素，便可实现该效果。</p>
<p>再然后就是，当提交有冲突的时候，我好像没有解决那些冲突问题，每次都是叫人帮忙解决，下次得自己解决一下那些问题。</p>
<hr>
<p>继续更新，周末去加班了，感觉今天的状态真的不太好，头晕，今天的任务主要是实现点赞反对的动态效果。现在说说今天遇到的问题。</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><ol>
<li><p>以为元素只有一个，所以就没有考虑元素的扩展性，后来我就花了一倍的时间去完成那个效果。以后写代码之前，一定要先看清楚页面，问清楚需求，然后考虑js的扩展性</p>
</li>
<li><p>今天小组内所有人都在写着几个页面，所以在提交的时候，代码就发生了冲突，然后怎么搞都搞不定，最后就只能自己将自己修改的那部分，复制到记事本中，然后等明天复制粘贴过去。日后的解决方法便是每次要写其他文件时，要先询问其他人用没有做，然后进行提交，亦或是当天每个人写了的页面，其他人不许修改，这样子才能够避免冲突</p>
</li>
<li><p>交互逻辑出现了点问题，刚开始的时候是以样式来判断点赞或去点的，然后样式的改变是在ajax请求成功以后才执行，然而这是一个<strong>错误</strong>的思路，<strong>正确</strong>的思路是应该在元素上自定义属性，然后根据该属性的值，进行ajax请求，最后再改变其样式以及要渲染的数据!</p>
</li>
<li><p>要看清楚接口文档中的url,千万不要搞错,不然会被搞死的</p>
</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li><p>以前自己自学前端的时候，没有跟后台进行交互，不会遇到现在这些问题，所以才说，业务的实践是自身所遇瓶颈的下限。但是不管如何都要巩固自己的基础，不然的话，你永远都只是一个页面仔，无法成为一个架构师!</p>
</li>
<li><p>要多点考虑元素的扩展性啊，这是相当重要的一件事情，还有代码的规范啊。</p>
</li>
<li><p>要多写js，这样的话，写css/html的时候，就会想着要为日后写js的时候,获取更方便的获取元素。</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/vivian.jpg"
               alt="vivian" />
          <p class="site-author-name" itemprop="name">vivian</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/LeoCecilia" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/2246130302?topnav=1&wvr=6&topsug=1&is_all=1" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://codepen.io/leoCecilia/" target="_blank" title="Codepen">
                  
                    <i class="fa fa-fw fa-codepen"></i>
                  
                  Codepen
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.freecodecamp.com/leocecilia" target="_blank" title="Freecodecamp">
                  
                    <i class="fa fa-fw fa-freecodecamp"></i>
                  
                  Freecodecamp
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vivian</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
